# GetGoodTape æœ¬åœ°å¼€å‘æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm run install:all
```

### 2. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
npm run dev:all
```

è¿™å°†å¯åŠ¨ï¼š

- **å‰ç«¯æœåŠ¡å™¨**: http://localhost:3000 (æˆ–ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£)
- **Workers API**: http://localhost:8789

### 3. éªŒè¯ç¯å¢ƒå¥åº·çŠ¶æ€

```bash
# æµ‹è¯•APIå¥åº·çŠ¶æ€
npm run test:health

# æµ‹è¯•å‰ç«¯é¡µé¢åŠ è½½
npm run test:frontend

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:all
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### æœåŠ¡å™¨ç«¯å£

- **Next.js å‰ç«¯**: 3000 (å¦‚æœè¢«å ç”¨ä¼šè‡ªåŠ¨ä½¿ç”¨ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£)
- **Cloudflare Workers**: 8789
- **APIä»£ç†**: é€šè¿‡å‰ç«¯çš„ `/api/*` è·¯ç”±

### ç¯å¢ƒå˜é‡

å¼€å‘ç¯å¢ƒä¼šè‡ªåŠ¨æ£€æµ‹ `NODE_ENV=development` å¹¶ï¼š

- å°†APIè¯·æ±‚ä»£ç†åˆ°æœ¬åœ°Workers (localhost:8789)
- å¯ç”¨è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
- ä½¿ç”¨æœ¬åœ°å¼€å‘é…ç½®

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### APIå¥åº·æ£€æŸ¥

è¿è¡Œ `npm run test:health` ä¼šæµ‹è¯•ï¼š

âœ… **åŸºç¡€è¿æ¥**

- å‰ç«¯æœåŠ¡å™¨å¯è®¿é—®æ€§
- Workers APIæœåŠ¡å™¨å¯è®¿é—®æ€§

âœ… **APIç«¯ç‚¹**

- å¥åº·æ£€æŸ¥ (`/api/health`)
- å¹³å°åˆ—è¡¨ (`/api/platforms`)
- URLéªŒè¯ (`/api/validate`)

### å‰ç«¯é›†æˆæµ‹è¯•

è¿è¡Œ `npm run test:frontend` ä¼šæµ‹è¯•ï¼š

âœ… **é¡µé¢åŠ è½½**

- ä¸»é¡µæ— Reacté”™è¯¯
- åº”ç”¨é¡µé¢æ— Reacté”™è¯¯
- æ£€æµ‹å¸¸è§çš„æ¸²æŸ“é—®é¢˜

### æ‰‹åŠ¨æµ‹è¯•URLéªŒè¯

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000/app
2. è¾“å…¥æœ‰æ•ˆçš„YouTube URLï¼Œå¦‚ï¼š`https://www.youtube.com/watch?v=dQw4w9WgXcQ`
3. åº”è¯¥çœ‹åˆ°ç»¿è‰²çš„"âœ“"å’Œ"YouTube video detected"æ¶ˆæ¯
4. è¾“å…¥æ— æ•ˆURLåº”è¯¥æ˜¾ç¤ºçº¢è‰²é”™è¯¯æ¶ˆæ¯

## ğŸ› æ•…éšœæ’é™¤

### ç«¯å£å†²çª

å¦‚æœé‡åˆ°ç«¯å£è¢«å ç”¨çš„é”™è¯¯ï¼š

```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8789

# æ€æ‰è¿›ç¨‹ (æ›¿æ¢PID)
kill <PID>
```

### Workersæ— æ³•å¯åŠ¨

1. ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š`cd workers && npm install`
2. æ£€æŸ¥wrangleré…ç½®ï¼š`workers/wrangler.toml`
3. å°è¯•å•ç‹¬å¯åŠ¨Workersï¼š`cd workers && npm run dev`

### APIä»£ç†é”™è¯¯

å¦‚æœå‰ç«¯æ— æ³•è¿æ¥åˆ°Workersï¼š

1. ç¡®è®¤Workersåœ¨ç«¯å£8789è¿è¡Œ
2. æ£€æŸ¥ `app/api/*/route.ts` æ–‡ä»¶ä¸­çš„WORKERS_URLé…ç½®
3. éªŒè¯CORSè®¾ç½®å…è®¸localhost

## ğŸ“ é¡¹ç›®ç»“æ„

```
getgoodtape/
â”œâ”€â”€ app/                    # Next.js åº”ç”¨
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”± (ä»£ç†åˆ°Workers)
â”‚   â””â”€â”€ app/               # ä¸»åº”ç”¨é¡µé¢
â”œâ”€â”€ workers/               # Cloudflare Workers API
â”‚   â”œâ”€â”€ src/               # Workersæºç 
â”‚   â””â”€â”€ wrangler.toml      # Workersé…ç½®
â”œâ”€â”€ components/            # Reactç»„ä»¶
â”œâ”€â”€ lib/                   # å…±äº«åº“
â”œâ”€â”€ scripts/               # å¼€å‘è„šæœ¬
â”‚   â”œâ”€â”€ dev.sh            # å¯åŠ¨å¼€å‘ç¯å¢ƒ
â”‚   â””â”€â”€ test-local-api.js  # APIå¥åº·æ£€æŸ¥
â””â”€â”€ package.json           # é¡¹ç›®é…ç½®
```

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘

1. `npm run dev:all` - å¯åŠ¨å¼€å‘ç¯å¢ƒ
2. `npm run test:health` - éªŒè¯APIå¥åº·çŠ¶æ€
3. è¿›è¡Œä»£ç ä¿®æ”¹
4. æµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°å‰ç«¯æ›´æ”¹
5. Workersæ›´æ”¹éœ€è¦é‡å¯ (Ctrl+C ç„¶åé‡æ–°è¿è¡Œ `npm run dev:all`)

### ä»£ç è´¨é‡

```bash
# æ£€æŸ¥ä»£ç æ ¼å¼
npm run lint

# è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜
npm run lint:fix

# æ ¼å¼åŒ–ä»£ç 
npm run format

# ç±»å‹æ£€æŸ¥
npm run type-check
```

## ğŸŒ ç”Ÿäº§ç¯å¢ƒå·®å¼‚

### å¼€å‘ç¯å¢ƒ

- APIè¯·æ±‚ä»£ç†åˆ° `localhost:8789`
- è¯¦ç»†é”™è¯¯æ—¥å¿—
- çƒ­é‡è½½
- æ— éœ€Cloudflareè´¦æˆ·

### ç”Ÿäº§ç¯å¢ƒ

- APIè¯·æ±‚ç›´æ¥åˆ°Cloudflare Workers
- ç®€åŒ–é”™è¯¯æ¶ˆæ¯
- éœ€è¦Cloudflare D1ã€R2ã€KVé…ç½®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **URLéªŒè¯ä¿®å¤**: å·²ä¿®å¤"Objects are not valid as a React child"é”™è¯¯
2. **ç±»å‹å®‰å…¨**: ç»Ÿä¸€äº†APIå“åº”ç±»å‹å®šä¹‰
3. **é”™è¯¯å¤„ç†**: æ”¹è¿›äº†é”™è¯¯æ˜¾ç¤ºé€»è¾‘
4. **æœ¬åœ°å¼€å‘**: æ”¯æŒå®Œæ•´çš„æœ¬åœ°å¼€å‘å’Œæµ‹è¯•
5. **UIé‡è®¾è®¡**: å…¨æ–°çš„/appé¡µé¢è®¾è®¡ï¼ŒåŒ…å«ï¼š
   - å“åº”å¼å¯¼èˆªæ 
   - å¤§æ ‡é¢˜HeroåŒºåŸŸ
   - æ”¹è¿›çš„è¡¨å•è®¾è®¡
   - æ”¯æŒå¹³å°å±•ç¤º
   - å“ç‰Œç‰¹ç‚¹åŒºåŸŸ
   - Footerç½®åº•å¸ƒå±€

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. è¿è¡Œ `npm run test:health` è¯Šæ–­é—®é¢˜
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. æŸ¥çœ‹ç»ˆç«¯æ—¥å¿—è¾“å‡º
4. ç¡®è®¤æ‰€æœ‰æœåŠ¡å™¨éƒ½åœ¨è¿è¡Œ
